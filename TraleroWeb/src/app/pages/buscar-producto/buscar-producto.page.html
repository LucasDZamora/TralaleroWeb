<ion-header>
  <ion-toolbar>
    <ion-title>Buscar Productos</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <!-- Ordenar -->
      <ion-col size="12">
        <ion-segment [(ngModel)]="orden" (ionChange)="ordenarProductos()">
          <ion-segment-button value="asc">
            <ion-label>Precio Ascendente</ion-label>
          </ion-segment-button>
          <ion-segment-button value="desc">
            <ion-label>Precio Descendente</ion-label>
          </ion-segment-button>
        </ion-segment>
      </ion-col>
    </ion-row>

    <ion-row>
      <!-- Filtros a la izquierda -->
      <ion-col size="12" size-md="3">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Filtros</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-item>
              <ion-label>Precio Mínimo</ion-label>
              <ion-input type="number" [(ngModel)]="filtro.precioMin"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Precio Máximo</ion-label>
              <ion-input type="number" [(ngModel)]="filtro.precioMax"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Categoría</ion-label>
              <ion-select [(ngModel)]="filtro.categoria">
                <ion-select-option value="">Todas</ion-select-option>
                <ion-select-option *ngFor="let cat of categorias" [value]="cat">{{cat}}</ion-select-option>
              </ion-select>
            </ion-item>
            <ion-button expand="block" (click)="filtrar()">Aplicar Filtros</ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Productos al centro -->
      <ion-col size="12" size-md="9">
        <ion-card *ngFor="let producto of productosFiltrados">
          <ion-card-header>
            <ion-card-title>{{producto.nombre}}</ion-card-title>
            <ion-card-subtitle>{{producto.categoria}}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <p>{{producto.descripcion}}</p>
            <p><strong>${{producto.precio}}</strong></p>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

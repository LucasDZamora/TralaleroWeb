<ion-content>
  <ion-grid>
    <!-- Ordenamiento -->
    <ion-row class="ion-justify-content-center">
      <ion-col size="6" size-md="3">
        <ion-item>
          <ion-label>Ordenar por</ion-label>
          <ion-select [(ngModel)]="orden" (ionChange)="ordenarProductos()">
            <ion-select-option value="asc">Nombre Ascendente</ion-select-option>
            <ion-select-option value="desc">Nombre Descendente</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <!-- Filtros -->
      <ion-col size="12" size-md="3">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Filtros</ion-card-title>
          </ion-card-header>
          <ion-card-content>

            <!-- Categoría con Radio Buttons -->
            <div class="radio-group">
              <p><strong>Categoría</strong></p>
              <ion-radio-group [(ngModel)]="filtro.categoria" (ionChange)="filtrar()">
                <ion-item>
                  <ion-radio slot="start" value=""></ion-radio>
                  <ion-label>Todas</ion-label>
                </ion-item>
                <ion-item *ngFor="let cat of categorias">
                  <ion-radio slot="start" [value]="cat"></ion-radio>
                  <ion-label>{{cat}}</ion-label>
                </ion-item>
              </ion-radio-group>
            </div>

            <ion-button expand="block" (click)="filtrar()">Aplicar Filtros</ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <!-- Productos -->
      <ion-col size="12" size-md="9">
        <ion-grid>
          <ion-row>
            <ion-col
              size="12"
              size-sm="6"
              size-md="4"
              *ngFor="let producto of productosFiltrados"
            >
              <ion-card>
                <ion-card-header>
                  <ion-card-title>{{producto.nombre}}</ion-card-title>
                  <ion-card-subtitle>{{producto.categoria}}</ion-card-subtitle>
                </ion-card-header>
                <ion-card-content>
                  <p>{{producto.descripcion}}</p>
                  <!-- Aquí puedes mostrar valoración o link si quieres -->
                  <p><strong>Valoración: {{producto.valoracion ?? 'N/A'}}</strong></p>
                  <p><a [href]="producto.link" target="_blank">Ver producto</a></p>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
